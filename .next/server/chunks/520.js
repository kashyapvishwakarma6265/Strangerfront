exports.id=520,exports.ids=[520],exports.modules={8301:(e,o,t)=>{Promise.resolve().then(t.bind(t,3838))},9373:(e,o,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,4209,23))},3838:(e,o,t)=>{"use strict";t.r(o),t.d(o,{AuthProvider:()=>w,useAuth:()=>m});var r=t(5344),s=t(3729),a=t(9852),n=t(6041),l=t(8414);let i={apiKey:"AIzaSyBoP9F82lZNJ_bIkkAWAhJwuOgYlS4JaFg",authDomain:"stranger-chat-74b46.firebaseapp.com",projectId:"stranger-chat-74b46",storageBucket:"stranger-chat-74b46.appspot.com",messagingSenderId:"75423958257",appId:"1:75423958257:web:c266a6120883dcaf69d550"};console.log("\uD83D\uDD25 Firebase Config Check:"),console.log("  ✅ apiKey:",i.apiKey?"✅ SET":"❌ MISSING"),console.log("  ✅ authDomain:",i.authDomain?"✅ SET":"❌ MISSING"),console.log("  ✅ projectId:",i.projectId?"✅ SET":"❌ MISSING"),console.log("  ✅ storageBucket:",i.storageBucket?"✅ SET":"❌ MISSING"),console.log("  ✅ messagingSenderId:",i.messagingSenderId?"✅ SET":"❌ MISSING"),console.log("  ✅ appId:",i.appId?"✅ SET":"❌ MISSING"),i.apiKey&&i.authDomain&&i.projectId&&i.appId||console.error("❌ Firebase config incomplete! Check environment variables.");let u=null,c=null,d=null;try{console.log("\uD83D\uDE80 Initializing Firebase..."),u=(0,n.ZF)(i),console.log("✅ Firebase app initialized"),c=(0,a.v0)(u),console.log("✅ Firebase Auth initialized"),d=(0,l.ad)(u),console.log("✅ Firebase Firestore initialized"),(0,a.Fb)(c,a.a$).then(()=>{console.log("✅ Firebase persistence enabled - users stay logged in")}).catch(e=>{console.warn("⚠️ Persistence warning:",e.message)}),console.log("✅ Firebase fully initialized and ready to use!")}catch(e){console.error("❌ Firebase initialization error:",e.message),console.error("Error details:",e)}let g=()=>(d||console.warn("⚠️ Firestore not initialized"),d),p=async(e,o)=>{try{if(!e){console.warn("⚠️ No userId provided");return}let t=g();if(!t){console.warn("⚠️ Firestore not initialized");return}let r=(0,l.JU)(t,"users",e);(await (0,l.QT)(r)).exists()?(await (0,l.r7)(r,{...o,updatedAt:new Date().toISOString()}),console.log("✅ Profile updated")):(await (0,l.pl)(r,{...o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("✅ Profile created"))}catch(e){throw console.error("❌ Profile operation error:",e?.message||"Unknown error"),e}},h=(0,s.createContext)(),m=()=>{let e=(0,s.useContext)(h);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},w=({children:e})=>{let[o,t]=(0,s.useState)(null),[n,l]=(0,s.useState)(!0),[i,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{console.log("\uD83D\uDD0D Setting up auth state listener...");let e=!0,o=(0,a.Aj)(c,async o=>{console.log("\uD83D\uDC64 onAuthStateChanged fired:",o?.email||"null");try{o?(console.log("✅ User found:",o.email),p(o.uid,{uid:o.uid,email:o.email,displayName:o.displayName||o.email.split("@")[0],photoURL:o.photoURL,lastActive:new Date,status:"online"}).catch(e=>console.error("Profile update error:",e)),e&&(console.log("✅ Setting user state:",o.email),t(o),u(null),l(!1))):(console.log("❌ No user found"),e&&(t(null),l(!1)))}catch(o){console.error("❌ Auth state error:",o),e&&(u(o.message),l(!1))}},o=>{console.error("❌ Auth listener error:",o),e&&(u(o.message),l(!1))});return()=>{console.log("\uD83E\uDDF9 Cleaning up auth listener"),e=!1,o()}},[]);let d=async(e,o,t="")=>{try{l(!0),u(null),console.log("\uD83D\uDCDD Starting signup for:",e);let r=await (0,a.Xb)(c,e,o);return console.log("✅ User created in Firebase:",r.user.email),t&&(await (0,a.ck)(r.user,{displayName:t}),console.log("✅ Display name updated")),await p(r.user.uid,{uid:r.user.uid,email:r.user.email,displayName:t||e.split("@")[0],createdAt:new Date,lastActive:new Date,status:"online"}),console.log("✅ User profile created"),r}catch(e){throw console.error("❌ Signup error:",e),u("auth/email-already-in-use"===e.code?"This email is already registered":"auth/weak-password"===e.code?"Password should be at least 6 characters":e.message),l(!1),e}},g=async(e,o)=>{try{u(null),console.log("\uD83D\uDD10 Starting login for:",e);let t=await (0,a.e5)(c,e,o);return console.log("✅ User logged in:",t.user.email),p(t.user.uid,{lastActive:new Date,status:"online"}).catch(e=>console.error("Profile update error:",e)),t}catch(e){throw console.error("❌ Login error:",e),u("auth/invalid-credential"===e.code?"Invalid email or password":"auth/user-not-found"===e.code?"User not found":e.message),l(!1),e}},m=async()=>{try{u(null),l(!0);let e=new a.hJ;e.addScope("profile"),e.addScope("email"),e.setCustomParameters({prompt:"consent"}),console.log("\uD83D\uDD37 Starting Google login with popup...");let o=await (0,a.rh)(c,e);console.log("✅ Google login successful:",o.user.email),await p(o.user.uid,{uid:o.user.uid,email:o.user.email,displayName:o.user.displayName,photoURL:o.user.photoURL,provider:"google",lastActive:new Date,status:"online"}),console.log("✅ Google user profile created")}catch(e){console.error("❌ Google login error:",e.code,e.message),"auth/popup-blocked-by-browser"===e.code?u("❌ Google popup was blocked. Allow popups in browser settings."):"auth/popup-closed-by-user"===e.code?u("You closed the Google popup. Try again."):"auth/cancelled-popup-request"===e.code?u("Sign in was cancelled. Try again."):"auth/operation-not-supported-in-this-environment"===e.code?u("❌ Google sign in not available. Check Firebase config."):u(e.message||"Failed to sign in with Google"),l(!1)}},w=async e=>{try{return u(null),await (0,a.LS)(c,e),console.log("✅ Password reset email sent"),!0}catch(e){throw console.error("❌ Reset password error:",e),u("auth/user-not-found"===e.code?"No account found with this email":e.message),e}},D=async()=>{try{l(!0),u(null),console.log("\uD83D\uDEAA Logging out..."),o&&await p(o.uid,{status:"offline"}),await (0,a.w7)(c),l(!1),console.log("✅ Logout successful")}catch(e){console.error("❌ Logout error:",e),u(e.message),l(!1)}};return r.jsx(h.Provider,{value:{user:o,signup:d,login:g,googleLogin:m,resetPassword:w,logout:D,loading:n,error:i,setError:u},children:e})}},7648:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>c,metadata:()=>u});var r=t(5036),s=t(6843);let a=(0,s.createProxy)(String.raw`C:\Users\MAIDC AIO PC 1\Desktop\important\Stranger\app\contexts\AuthContext.js`),{__esModule:n,$$typeof:l}=a;a.default,(0,s.createProxy)(String.raw`C:\Users\MAIDC AIO PC 1\Desktop\important\Stranger\app\contexts\AuthContext.js#useAuth`);let i=(0,s.createProxy)(String.raw`C:\Users\MAIDC AIO PC 1\Desktop\important\Stranger\app\contexts\AuthContext.js#AuthProvider`);t(7272);let u={title:"Blink Anonymous chat",description:"Anonymous encrypted chat. No data stored. "};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(i,{children:e})})})}},7272:()=>{}};